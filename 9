using System;
using System.Collections.Generic;
using System.IO;
 
namespace FibonacciNumbers
{
    class Program
    {
        static List<int> FibonacciCollection(int n) {
            List<int> fib = new List<int>(new int[] { 1, 1 });
            for (int i = 2; i < n; i++) {
                fib.Add(fib[i - 1] + fib[i - 2]);
            }
            return fib;
        }
 
        static void FibonacciToFile(int n, string path) {
            List<int> fib = FibonacciCollection(n);
            using (StreamWriter writer = new StreamWriter(path)) {
                for (int i = 0; i < n; i++) {
                    // записываем числа в файл
                    writer.WriteLine(fib[i].ToString());
                    // вывод чисел, с порядковым номером не кратным 3
                    if ((i % 3 != 0) || (i == 0)) {
                        Console.WriteLine("{0} element = {1}", i, fib[i]);
                    }
                }
            }
        }
 
        static void Main(string[] args) {
            FibonacciToFile(20, @"C:\Fib.txt");
        }
    }
}
